<html>
 <head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <meta name="theme-color" content="#2c3e50">
  <title>web dev easy</title>
  <link rel="stylesheet" href="./css/style.css">
 </head>
 <body>
  <svg id="chart" viewBox="-25 -25 50 50" width="100vw" height="100vh">
   
 <!--  <style>
   line,circle {
    stroke-width:.1;
    stroke:"#2c3e50";
   }

   circle{
    fill:"none";
   }

   g circle {
    fill:"red";
   }
  </style>-->

   <circle cx="0" cy="0" r="20" fill="none" stroke-width=".1" stroke="green"/>
   <circle cx="0" cy="0" r="15" fill="none" stroke-width=".1" stroke="green"/>
   <circle cx="0" cy="0" r="10" fill="none" stroke-width=".1" stroke="#7c34a0"/>
   <circle cx="0" cy="0" r="5" fill="none" stroke-width=".1" stroke="green"/>
   <circle cx="0" cy="0" r=".5" fill="none" stroke-width=".1" stroke="green"/>

   <g id="final"></g>

   <g id="semi"></g>

   <g id="top8"></g>

   <g id="top16"></g>

  </svg>

  <p id="test">ggg</p>

  <script defer>
   let
    gId = n => document.getElementById(n),
    
    c = gId("chart"),
    f = gId("final"),
    s = gId("semi"),
    t8 = gId("top8"),
    t16 = gId("top16"),
    t = gId("test"),

    dtor = n => n*Math.PI/180,

    getPos = (d,r) => {
     let
      x = Math.cos(dtor(d))*r,
      y = Math.sin(dtor(d))*r
     return {x: x,y: y}
    },

    fp = Array.from({length:2},(_,i) => getPos((i*180)-90,5)),
    sb = Array.from({length:2},(_,i) => getPos((i*180)-90,10)),
    sp = Array.from({length:4},(_,i) => getPos((i*90)-45,10)),
    t8b = Array.from({length:4},(_,i) => getPos((i*90)-45,15)),
    t8p = Array.from({length:8},(_,i) => getPos((i*45)-22.5,15)),
    t16b = Array.from({length:8},(_,i) => getPos((i*45)-22.5,20)),
    t16p = Array.from({length:16},(_,i) => getPos((i*22.5)-11.25,20)),

    

    svgNS = "http://www.w3.org/2000/svg",

    createCircle = (d,r) => {
     let
      c = document.createElementNS(svgNS,"circle"),
      pos = getPos(d,r)
     c.setAttributeNS(null,"cx",pos.x)
     c.setAttributeNS(null,"cy",pos.y)
     c.setAttributeNS(null,"r",.3)
     c.setAttributeNS(null,"fill","red")
     c.setAttributeNS(null,"stroke","none")
     return c
    },

    gN = (n, v) =>{
     n = document.createElementNS("http://www.w3.org/2000/svg", n);
     for (var p in v)
     n.setAttributeNS(null, p.replace(/[A-Z]/g, function(m, p, o, s) { return "-" + m.toLowerCase(); }), v[p]);
     return n
}

   for(let i=0;i<2;i++){
    f.appendChild(createCircle((i*180)-90,5))
   }

   for(let i=0;i<4;i++){
    s.appendChild(createCircle((i*90)-45,10))
   }

   for(let i=0;i<8;i++){
    t8.appendChild(createCircle((i*45)-22.5,15))
   }

   for(let i=0;i<16;i++){
    t16.appendChild(createCircle((i*22.5)-11.25,20))
   }

   t16p.forEach(i=>{
    c.appendChild(gN("path",
     {stroke:"black",
      strokeWidth:.1,
      d:`M${i.x} ${i.y}
      L${t16b[Math.floor(i/2)].x} ${t16b[Math.floor(i/2)].y}
      L${t8p[Math.floor(i/2)].x} ${t8p[Math.floor(i/2)].y}
      L${t8b[Math.floor(i/4)].x} ${t8b[Math.floor(i/4)].y}
      L${sp[Math.floor(i/4)].x} ${sp[Math.floor(i/4)].y}
      L${sb[Math.floor(i/8)].x} ${sb[Math.floor(i/8)].y}
      L${fp[Math.floor(i/8)].x} ${fp[Math.floor(i/8)].y}
      L0 0`}))
   })

  </script> 
 </body>
</html>
